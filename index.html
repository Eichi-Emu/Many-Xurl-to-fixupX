<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function hage(){
        var inputTextArr = document.getElementById("area").value;
        var outputTextArr = [];
        var tempText = '';
        var resultQuestion = 0;
        var resultX = 0;
        var flag = 0;

        inputTextArr = inputTextArr.split(/\r\n|\n/);
        
        for(var i = 0;i<inputTextArr.length;i++)
        {
            if(inputTextArr[i].match(/twitter.com|x.com/)=== null){}else
            {

            if(inputTextArr[i].match(/twitter.com/))
            {resultX = inputTextArr[i].indexOf("twitter.com");flag = 1;}
            else
            {resultX = inputTextArr[i].indexOf("x.com");}

            if(inputTextArr[i].match(/\?/))
            {resultQuestion = inputTextArr[i].lastIndexOf('?');tempText = inputTextArr[i].slice(0,resultQuestion);}
            else
            {tempText = inputTextArr[i];};

            if(flag !=0)
            {tempText = "https://fx"+tempText.slice(resultX);}
            else
            {tempText = "https://fixup"+tempText.slice(resultX);}
            
            outputTextArr[i] = tempText + '\n';
        
            for(var i = 0;i<outputTextArr.length;i++)
            {document.getElementById('area').value = outputTextArr[i];}
            }
        }
    }
    </script>
    <button onclick="hage()">fix URL</button><br>
    <textarea id="area" cols="100" rows="50"></textarea>
    
</body>
</html>